<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>分阶段众筹</title>
</head>
<body>
<h1 class="text-center">分阶段众筹1.0</h1>
<hr/>


<div class="singleLine">
    <p>名称:</p>
    <p id="name"></p>
</div>
<div class="singleLine">
    <p>符号:</p>
    <p id="symbol"></p>
</div>
<div class="singleLine">
    <p>小数位数:</p>
    <p id="decimals"></p>
</div>
<div class="singleLine">
    <p>项目方地址:</p>
    <p id="Item"></p>
</div>
<div class="singleLine">
    <p>项目方token数量(wei):</p>
    <p id="ItemBalance"></p>
</div>
<div class="singleLine">
    <p>总期数:</p>
    <p id="StagesLen"></p>
</div>
<div class="singleLine">
    <p>当前期数(下标):</p>
    <p id="CurrentStageIdx"></p>
</div>

<div>
    <button class="btn" onclick="flushBasicData()">刷新</button>
</div>

<div>
    <button class="btn" onclick="switchStage()">切换到下一众筹期</button>
</div>
<hr/>


<div>
    <h3>查询所有阶段状况:</h3>

    <button class="btn" onclick="queryStages()">查询所有阶段状况</button>

    <div id="stagesInfo">

    </div>
</div>

<div>
    <h3>添加期次:</h3>
    <span> 1.众筹期:  开始时间:<input id="saleBeginTimeDate" type="date"/>
        <input id="saleBeginTimeTime" type="time"/>
        结束时间:<input id="saleEndTimeDate" type="date"/>
         <input id="saleEndTimeTime" type="time"/>
        </span>
    <br>
    <span> 2.冻结期:  开始时间:<input id="lockBeginTimeDate" type="date"/>
         <input id="lockBeginTimeTime" type="time"/>
        结束时间:<input id="lockEndTimeDate" type="date"/>
        <input id="lockEndTimeTime" type="time"/>
        </span>
    <br>
    <span> 3.投票期:  开始时间:<input id="voteBeginTimeDate" type="date"/>
        <input id="voteBeginTimeTime" type="time"/>
        结束时间:<input id="voteEndTimeDate" type="date"/>
        <input id="voteEndTimeTime" type="time"/>
        </span>
    <br>

    <span>
        本期平台币兑token汇率 (每期可不固定), 例如: 1:1000,一个ABS兑换1000个token
        <input id="changeRate" value="1000"/>
    </span>
    <br>

    <span>
       本期需要达成的agree比例, 例如:0-100
        <input id="targetAgreeRate" value="60"/>
    </span>
    <br>

    <button class="btn" onclick="moveTimeToNext3Days()">设定日期推移</button>
    <br>

    <button class="btn" onclick="appendStage()">添加</button>


    <hr/>

    <h3>投资者:</h3>

    <div class="singleLine">
        <button class="btn" onclick="Invest()">投资ABS(单位eth)</button>
        <input id="InvestorABSNum" value="0.1"/>
    </div>


    <div class="singleLine">
        <button class="btn" onclick="Vote()">投票(0-反对,1-赞成)</button>
        <input id=VoteValue value='1'/>
    </div>


    <button class="btn" onclick="InvestorWithdrawToken()">(投票成功)提取token</button>
    <br>
    <button class="btn" onclick="InvestorWithdrawAbs()">(投票失败)提取ABS</button>

    <br>
    </span>

    <hr>
    <h3>项目方:</h3>

    <button class="btn" onclick="ItemWithdrawABS()">(投票成功)提取ABS</button>
    <br>
    <button class="btn" onclick="ItemWithdrawToken()">(投票失败)提取token</button>

</div>


<style>
    .singleLine p {
        display: inline-block;
    }

    .btn {
        color: white;
        border: none;
        text-align: center;
        text-decoration: none;
        background-color: #555555;
        font-size: 14px;
    }
</style>


<script src="helpers/moment.min.js"></script>
<script src="helpers/jquery.min.js"></script>
<script src="helpers/web3.min.js"></script>
<script src="helpers/truffle-contract.js"></script>
<script src="app.js"></script>


</body>
</html>
